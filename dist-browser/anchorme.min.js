!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.anchorme=e()}(this,function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}var e=t(function(t,e){function n(t){return t||(t={attributes:[],ips:!0,emails:!0,urls:!0,files:!0,truncate:1/0,defaultProtocol:"http://",list:!1}),"object"!=typeof t.attributes&&(t.attributes=[]),"boolean"!=typeof t.ips&&(t.ips=!0),"boolean"!=typeof t.emails&&(t.emails=!0),"boolean"!=typeof t.urls&&(t.urls=!0),"boolean"!=typeof t.files&&(t.files=!0),"boolean"!=typeof t.list&&(t.list=!1),"string"!=typeof t.defaultProtocol&&"function"!=typeof t.defaultProtocol&&(t.defaultProtocol="http://"),"number"==typeof t.truncate||"object"==typeof t.truncate&&null!==t.truncate||(t.truncate=1/0),t}function r(t){return!isNaN(Number(t))&&!(Number(t)>65535)}e.__esModule=!0,e.defaultOptions=n,e.isPort=r}),n=t(function(t,e){e.__esModule=!0,e.tlds=[],e.tlds.push("local"),e.tlds.push("com","org","net","int","edu","gov","mil","arpa"),e.tlds.push("uk","io","cc","co","ac","ad","ae","af","ag","ai","al","am","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cd","cf","cg","ch","ci","ck","cl","cm","cn","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tr","tt","tv","tw","tz","ua","ug","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yt","za","zm","zw"),e.htmlAttrs=["src=","data=","href=","cite=","formaction=","icon=","manifest=","poster=","codebase=","background=","profile=","usemap="]}),r=t(function(t,e){function r(t){var e=t.match(o);if(null===e)return!1;for(var r=u.length-1;r>=0;r--)if(u[r].test(t))return!1;var a=e[2];return!!a&&-1!==n.tlds.indexOf(a)}e.__esModule=!0;var o=/^[a-z0-9!#$%&'*+\-\/=?^_`{|}~.]+@([a-z0-9%\-]+\.){1,}([a-z0-9\-]+)?$/i,u=[/^[!#$%&'*+\-\/=?^_`{|}~.]/,/[.]{2,}[a-z0-9!#$%&'*+\-\/=?^_`{|}~.]+@/i,/\.@/];e.default=r}),o=t(function(t,n){function r(t){if(!o.test(t))return!1;var n=t.split("."),r=Number(n[0]);if(isNaN(r)||r>255||r<0)return!1;var u=Number(n[1]);if(isNaN(u)||u>255||u<0)return!1;var a=Number(n[2]);if(isNaN(a)||a>255||a<0)return!1;var f=Number((n[3].match(/^\d+/)||[])[0]);if(isNaN(f)||f>255||f<0)return!1;var i=(n[3].match(/(^\d+)(:)(\d+)/)||[])[3];return!(i&&!e.isPort(i))}n.__esModule=!0;var o=/^(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?(\/([a-z0-9\-._~:\/\?#\[\]@!$&'\(\)\*\+,;=%]+)?)?$/i;n.default=r}),u=t(function(t,r){function o(t){var r=t.match(u);return null!==r&&("string"==typeof r[3]&&(-1!==n.tlds.indexOf(r[3].toLowerCase())&&!(r[5]&&!e.isPort(r[5]))))}r.__esModule=!0;var u=/^(https?:\/\/|ftps?:\/\/)?([a-z0-9%\-]+\.){1,}([a-z0-9\-]+)?(:(\d{1,5}))?(\/([a-z0-9\-._~:\/\?#\[\]@!$&'\(\)\*\+,;=%]+)?)?$/i;r.default=o}),a=t(function(t,e){function n(t,e,r){return t.forEach(function(o,u){!(o.indexOf(".")>-1)||t[u-1]===e&&t[u+1]===r||t[u+1]!==e&&t[u+1]!==r||(t[u]=t[u]+t[u+1],"string"==typeof t[u+2]&&(t[u]=t[u]+t[u+2]),"string"==typeof t[u+3]&&(t[u]=t[u]+t[u+3]),"string"==typeof t[u+4]&&(t[u]=t[u]+t[u+4]),t.splice(u+1,4),n(t,e,r))}),t}function r(t){return t=n(t,"(",")"),t=n(t,"[","]"),t=n(t,'"','"'),t=n(t,"'","'")}e.__esModule=!0,e.fixSeparators=n,e.default=r}),f=t(function(t,e){function n(t){var e=t.replace(/([\s\(\)\[\]<>"'])/g,"\0$1\0").replace(/([?;:,.!]+)(?=(\0|$|\s))/g,"\0$1\0").split("\0");return a.default(e)}function r(t){return t.join("")}e.__esModule=!0,e.separate=n,e.deSeparate=r}),i=t(function(t,e){function n(t){return t=t.toLowerCase(),0===t.indexOf("http://")?"http://":0===t.indexOf("https://")?"https://":0===t.indexOf("ftp://")?"ftp://":0===t.indexOf("ftps://")?"ftps://":0===t.indexOf("file:///")?"file:///":0===t.indexOf("mailto:")&&"mailto:"}e.__esModule=!0,e.default=n}),l=t(function(t,e){function a(t,e){return t.map(function(a,f){var l=encodeURI(a);if(l.indexOf(".")<1&&!i.default(l))return a;var s=null,c=i.default(l)||"";return c&&(l=l.substr(c.length)),e.files&&"file:///"===c&&l.split(/\/|\\/).length-1&&(s={reason:"file",protocol:c,raw:a,encoded:l}),!s&&e.urls&&u.default(l)&&(s={reason:"url",protocol:c||("function"==typeof e.defaultProtocol?e.defaultProtocol(a):e.defaultProtocol),raw:a,encoded:l}),!s&&e.emails&&r.default(l)&&(s={reason:"email",protocol:"mailto:",raw:a,encoded:l}),!s&&e.ips&&o.default(l)&&(s={reason:"ip",protocol:c||("function"==typeof e.defaultProtocol?e.defaultProtocol(a):e.defaultProtocol),raw:a,encoded:l}),s&&("'"!==t[f-1]&&'"'!==t[f-1]||!~n.htmlAttrs.indexOf(t[f-2]))?s:a})}e.__esModule=!0,e.default=a}),s=t(function(t,e){function n(t,e){var n=o.separate(t),u=l.default(n,e);if(e.exclude)for(var a=0;a<u.length;a++){var i=u[a];"object"==typeof i&&e.exclude(i)&&(u[a]=i.raw)}if(e.list){for(var s=[],c=0;c<u.length;c++){var d=u[c];"string"!=typeof d&&s.push(d)}return s}return u=u.map(function(t){return"string"==typeof t?t:r(t,e)}),f.deSeparate(u)}function r(t,e){var n=t.protocol+t.encoded,r=t.raw;return"number"==typeof e.truncate&&r.length>e.truncate&&(r=r.substring(0,e.truncate)+"..."),"object"==typeof e.truncate&&r.length>e.truncate[0]+e.truncate[1]&&(r=r.substr(0,e.truncate[0])+"..."+r.substr(r.length-e.truncate[1])),void 0===e.attributes&&(e.attributes=[]),'<a href="'+n+'" '+e.attributes.map(function(e){if("function"!=typeof e)return" "+e.name+'="'+e.value+'" ';var n=(e(t)||{}).name,r=(e(t)||{}).value;return n&&!r?" name ":n&&r?" "+n+'="'+r+'" ':void 0}).join("")+">"+r+"</a>"}e.__esModule=!0;var o=f;e.default=n}),c=t(function(t,n){n.__esModule=!0;var a=function(t,n){return n=e.defaultOptions(n),s.default(t,n)};a.validate={ip:o.default,url:function(t){var e=i.default(t)||"";return t=t.substr(e.length),t=encodeURI(t),u.default(t)},email:r.default},n.default=a});return function(t){return t&&t.__esModule?t.default:t}(c)});